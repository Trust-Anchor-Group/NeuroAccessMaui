<?xml version="1.0" encoding="utf-8" ?>
<base:BaseContentPage x:Name="ThisPage"
						x:Class="NeuroAccessMaui.UI.Pages.Main.Apps.AppsPage"
						x:DataType="viewmodel:AppsViewModel"
						xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
						xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
						xmlns:l="clr-namespace:NeuroAccessMaui.Services.Localization"
						xmlns:mct="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
						xmlns:ui="clr-namespace:NeuroAccessMaui.UI"
						xmlns:base="clr-namespace:NeuroAccessMaui.UI.Pages"
						xmlns:viewmodel="clr-namespace:NeuroAccessMaui.UI.Pages.Main.Apps"
						xmlns:controls="clr-namespace:NeuroAccessMaui.UI.Controls"
						xmlns:converters="clr-namespace:NeuroAccessMaui.UI.Converters">
	<!-- Main Grid-->
	<Grid RowDefinitions="auto, *, auto">
		<Grid Margin="{DynamicResource MediumMargins}" ColumnDefinitions="*, auto, *">
			<controls:SvgButton
					Command="{Binding GoBackCommand}"
					SvgSource="close.svg"
					Style="{DynamicResource IconButton}"
					HorizontalOptions="Start"/>

			<Label Style="{DynamicResource PageTitleLabel}" Text="{l:Localize Apps}" HorizontalOptions="Center" Grid.Column="1"/>

			<controls:SvgButton
				Command="{Binding ShowIdCommand}"
				Grid.Column="2"
				SvgSource="id_icon.svg"
				Style="{DynamicResource IconButton}"
				HorizontalOptions="End"/>
		</Grid>
		
		<ScrollView Margin="{DynamicResource SmallLeftRightMargins}" Grid.Row="1">
			<VerticalStackLayout Margin="0">
				<!-- Apps -->
				<Border Style="{DynamicResource BorderSet}" Margin="{DynamicResource SmallLeftRightBottomMargins}">
					<!-- Common apps -->
					<Grid ColumnDefinitions="*,*,*" RowDefinitions="auto, *" RowSpacing="{DynamicResource MediumSpacing}">
						<Label Style="{DynamicResource SectionTitleLabel}"
							   Text="Apps"/>
						<VerticalStackLayout Grid.Column="0" Grid.Row="1">
							<controls:SvgButton Style="{DynamicResource NeuroIconButton}"
												SvgSource="contacts.svg"
												Command="{Binding ShowContactsCommand}"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize Contacts}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="1" Grid.Row="1">
							<controls:SvgButton Style="{DynamicResource NeuroIconButton}"
												SvgSource="my_contracts.svg"
												Command="{Binding ShowMyContractsCommand}"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize MyContracts}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="2" Grid.Row="1">
							<controls:SvgButton Style="{DynamicResource NeuroIconButton}"
												SvgSource="applications.svg"
												Command="{Binding ShowApplicationsCommand}"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize Applications}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
					</Grid>
				</Border>

				<!-- Beta -->
				<Border Style="{DynamicResource BorderSet}">
					<Grid ColumnDefinitions="*,*,*" RowDefinitions="auto, *, auto" RowSpacing="{DynamicResource MediumSpacing}">
						<Label Style="{DynamicResource SectionTitleLabel}"
							   Text="Beta"/>
						<VerticalStackLayout Grid.Column="0" Grid.Row="1">
							<controls:SvgButton Style="{Binding BetaButtonStyle}"
												SvgSource="new_contracts.svg"
												IsEnabled="{Binding HasBetaFeatures}"
												Command="{Binding ShowNewContractCommand}"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize NewContract}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="1" Grid.Row="1">
							<controls:SvgButton Style="{Binding BetaButtonStyle}"
												SvgSource="new_token.svg"
												IsEnabled="{Binding HasBetaFeatures}"
												Command="{Binding ShowNewTokenCommand}"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize NewToken}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="2" Grid.Row="1">
							<controls:SvgButton Style="{Binding BetaButtonStyle}"
												SvgSource="thing.svg"
												IsEnabled="{Binding HasBetaFeatures}"
												Command="{Binding ShowThingsCommand}"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize SmartThings}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<Label Text="To enable Beta features, go to the Home screen and open the settings page"
							   Grid.Row="2"
							   Grid.ColumnSpan="3"
							   IsVisible="{Binding HasBetaFeatures, Converter={mct:InvertedBoolConverter}}"
							   Style="{DynamicResource AppCardLabel}"/>
					</Grid>
				</Border>

				<!-- Coming soon -->
				<Border Style="{DynamicResource BorderSet}">
					<Grid ColumnDefinitions="*,*,*" RowDefinitions="auto, *, *" RowSpacing="{DynamicResource MediumSpacing}">
						<Label Style="{DynamicResource SectionTitleLabel}"
							   Text="Coming soon"
							   Grid.ColumnSpan="2"/>
						<VerticalStackLayout Grid.Column="0" Grid.Row="1">
							<controls:SvgButton Style="{DynamicResource NeuroIconButtonDisabled}"
												SvgSource="assets.svg"
												IsEnabled="False"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize Assets}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="1" Grid.Row="1">
							<controls:SvgButton Style="{DynamicResource NeuroIconButtonDisabled}"
												SvgSource="microloan.svg"
												IsEnabled="False"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize MicroLoan}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="2" Grid.Row="1">
							<controls:SvgButton Style="{DynamicResource NeuroIconButtonDisabled}"
												SvgSource="nfc.svg"
												IsEnabled="False"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize NFC}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
						<VerticalStackLayout Grid.Column="0" Grid.Row="2">
							<controls:SvgButton Style="{DynamicResource NeuroIconButtonDisabled}"
												SvgSource="sign.svg"
												IsEnabled="False"/>
							<Label Style="{StaticResource AppCardLabel}" Text="{l:Localize Sign}" HorizontalOptions="Center"/>
						</VerticalStackLayout>
					</Grid>
				</Border>
			</VerticalStackLayout>
		</ScrollView>

		<!-- Bottom Bar -->
		<controls:BottomBar Style="{DynamicResource BottomBar}"
							SelectedIcon="Right"
							LeftIcon="home.svg"
							CenterIcon="wallet.svg"
							RightIcon="apps.svg"
							LeftLabelText="{l:Localize Home}"
							CenterLabelText="{l:Localize Wallet}"
							RightLabelText="{l:Localize Apps}"
							LeftCommand="{Binding ViewMainPageCommand}"
							CenterCommand="{Binding ShowWalletCommand}"
							Grid.Row="2"/>
	</Grid>
</base:BaseContentPage>
